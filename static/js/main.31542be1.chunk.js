(this.webpackJsonpsoccerReduxToolkit=this.webpackJsonpsoccerReduxToolkit||[]).push([[0],{43:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(18),o=a.n(i),r=(a(30),a(43),a(58)),s=a(59),c=a(61),d=a(60);const l="team";var m=a(6),g=a.n(m),u=a(33),b=a.n(u),h=a(13),p=a(22);const j=[{name:"Borussia M\xf6nchengladbach",editing:!0,id:"BMG"},{name:"Borussia Dortmund",editing:!0,id:"BVB"},{name:"FC Bayern M\xfcnchen",editing:!0,id:"FCB"},{name:"VFL Wolfsburg",editing:!0,id:"VFL"},{name:"Bayer Leverkusen",editing:!0,id:"B04"},{name:"FC Schalke 04",editing:!0,id:"S04"},{name:"Hertha BSC Berlin",editing:!0,id:"BSC"},{name:"1. FC K\xf6ln",editing:!0,id:"1FC"},{name:"FC Ingolstadt",editing:!0,id:"FCI"},{name:"Darmstadt 98",editing:!0,id:"D98"},{name:"Hamburger SV",editing:!0,id:"HSV"},{name:"Eintracht Frankfurt",editing:!0,id:"SGE"},{name:"Werder Bremen",editing:!0,id:"SVW"},{name:"Hoffenheim",editing:!0,id:"SAP"},{name:"FC Augsburg",editing:!0,id:"FCA"},{name:"Hannover 96",editing:!0,id:"H96"},{name:"Mainz 05",editing:!0,id:"M05"},{name:"VFB Stuttgart",editing:!0,id:"VFB"}],f=(e,t)=>t.findIndex((t=>t.id===e)),v={positions:j,loadingCompleted:!1},x=Object(p.b)({name:"leagueTable",initialState:v,reducers:{swapPositions:(e,t)=>{console.log("state",e.positions),e.positions=((e,t,a)=>{const n=[...a],[i,o]=[e,t].map((e=>{return{index:f(e,n),team:(t=e,a=n,a.find((e=>e.id===t)))};var t,a}));return a.map(((e,t)=>t===o.index?{...i.team}:t===i.index?{...o.team}:{...e}))})(t.payload.sourceTeamId,t.payload.targetTeamId,e.positions)},updateTeamname:(e,t)=>{e.positions=((e,t,a)=>{const n=f(e.id,a);return a.map(((e,a)=>({...e,name:n===a?t:e.name})))})(t.payload.team,t.payload.updatedText,e.positions)},fetchSampleData:e=>{e.loadingCompleted=!1},fetchSampleDataSuccess:(e,t)=>{e.loadingCompleted=!0,e.positions=t.payload},fetchSampleDataError:e=>{e.loadingCompleted=!0,e.positions=j}}}),{swapPositions:O,updateTeamname:C,fetchSampleData:k,fetchSampleDataSuccess:w,fetchSampleDataError:y}=x.actions;var S=x.reducer,T=a(4);var B=e=>{const{rank:t,team:a}=e,n=Object(h.b)(),i=Object(d.a)({type:l,item:{team:a},end:(e,t)=>{if(!t.didDrop())return;const a=t.getItem(),i=t.getDropResult();n(O({sourceTeamId:a.team.id,targetTeamId:i.team.id}))}}),o=g()("col-md-12","btn","text-bold",1===(r=t)?"tabellenfuehrerClass tabelleClass":r<=3?"championsLeagueClass tabelleClass":r<=6?"europaLeagueClass tabelleClass":r<=15?"mittelfeldClass tabelleClass":16===r?"relegationClass tabelleClass":"abstiegClass tabelleClass");var r;return Object(T.jsx)("div",{className:o,style:{cursor:"pointer"},ref:i[1],children:Object(T.jsx)(b.a,{onChange:e=>{n(C({team:a,updatedText:e.target.value}))},role:"button",className:"textPointer",html:a.name,autoFocus:!0,maxLength:200,disabled:!a.editing})})};var F=e=>{const t=e.team,a=e.rank,n=Object(c.a)({accept:l,drop:()=>({team:t})});return Object(T.jsx)("div",{ref:n[1],children:Object(T.jsx)(B,{team:t,rank:a})})},D=a(56),L=a(35),I=a(57),E=a(62);var V=()=>{const e=Object(h.b)();Object(n.useEffect)((()=>{e(k())}),[e]);const t=Object(h.c)((e=>e.leagueTable.positions));return Object(h.c)((e=>e.leagueTable.loadingCompleted))?Object(T.jsx)(D.a,{backend:L.a,children:Object(T.jsx)(I.a,{md:6,children:Object(T.jsxs)(E.a,{bg:"dark",children:[Object(T.jsx)(E.a.Header,{role:"heading",children:Object(T.jsx)(E.a.Title,{children:"Ligatabelle zum Selberstecken"})}),Object(T.jsx)(E.a.Body,{children:t.map(((e,t)=>Object(T.jsx)(F,{team:e,rank:t+1},t)))})]})})}):"Loading..."},W=a(36),H=a(17);const R=()=>fetch("https://holgergp.builtwithdark.com/league-table").then((e=>e.json())).then((e=>e.map((e=>({...e,editing:!0})))));function*M(){try{const e=yield Object(H.a)(R);yield Object(H.b)(w(e))}catch(e){yield Object(H.b)(y())}}const N=Object(W.a)(),A=Object(p.a)({reducer:{leagueTable:S},middleware:e=>e({thunk:!1}).concat(N)});N.run((function*(){yield Object(H.c)(k().type,M)}));var P=()=>Object(T.jsx)("div",{className:"index",children:Object(T.jsx)(r.a,{children:Object(T.jsx)(s.a,{children:Object(T.jsx)(h.a,{store:A,children:Object(T.jsx)(V,{})})})})});const z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((e=>{console.error("Error during service worker registration:",e)}))}a(50);o.a.render(Object(T.jsx)(P,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/soccerReduxToolkit",window.location).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const e="".concat("/soccerReduxToolkit","/service-worker.js");z?(!function(e){fetch(e).then((t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):G(e)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):G(e)}))}}()}},[[51,1,2]]]);
//# sourceMappingURL=main.31542be1.chunk.js.map